<!DOCTYPE html>
<html lang="he">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>בדיקת זכאות להחזר מס</title>
  <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    body { margin:0; font-family:'Rubik',sans-serif; background:#f0f4f8; color:#333; overflow-x:hidden; }
    header { text-align:center; padding:80px 20px; color:white; background:linear-gradient(270deg,#2E7D32,#4CAF50,#81C784,#43A047); background-size:800% 800%; animation: headerGradient 15s ease infinite; }
    header h1 { font-size:3em; margin-bottom:10px; background:linear-gradient(270deg,#FFEB3B,#FFC107,#FF9800); background-size:800% 800%; -webkit-background-clip:text; -webkit-text-fill-color:transparent; animation:textGradient 8s ease infinite; }
    header p { font-size:1.3em; animation:fadeIn 2s ease; }
    @keyframes headerGradient {0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}
    @keyframes textGradient {0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}
    @keyframes fadeIn {from{opacity:0;}to{opacity:1;}}
    .container {max-width:600px; margin:40px auto; padding:0 20px;}
    form {display:flex; flex-direction:column; background:linear-gradient(135deg,#fff3e0,#ffe0b2); padding:30px; border-radius:20px; box-shadow:0 10px 25px rgba(0,0,0,0.1);}
    .form-group {margin-bottom:15px;}
    label {display:block; margin-bottom:5px; font-weight:500;}
    input {width:100%; padding:12px; border-radius:10px; border:1px solid #ccc; font-size:1em;}
    input:focus {border-color:#4CAF50; outline:none; box-shadow:0 0 8px rgba(76,175,80,0.4);}
    button {padding:15px; font-size:1.2em; border:none; border-radius:12px; cursor:pointer; color:white; background:linear-gradient(270deg,#FF9800,#F44336,#FF5722,#FF7043); background-size:400% 400%; animation: buttonGradient 5s ease infinite;}
    button:hover {transform:scale(1.08); box-shadow:0 10px 25px rgba(0,0,0,0.2);}
    @keyframes buttonGradient {0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}
    .popup {display:none; position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); background:white; padding:50px 40px; border-radius:20px; box-shadow:0 15px 40px rgba(0,0,0,0.25); z-index:100; text-align:center; font-size:1.3em; color:#2E7D32; min-width:320px;}
    .loader {border:6px solid #f3f3f3; border-top:6px solid #4CAF50; border-radius:50%; width:50px; height:50px; margin:20px auto; animation:spin 1s linear infinite;}
    @keyframes spin {100%{transform:rotate(360deg);}}
    footer {text-align:center; padding:30px; color:#666; font-size:0.9em;}
  </style>
</head>
<body>

<header>
  <h1>בדוק את זכאותך להחזר מס!</h1>
  <p>מילוי קצר – החזר עד 6 שנים אחורה. אל תחכה – מגיע לך החזר על הכסף שלך!</p>
</header>

<div class="container">
  <form id="taxForm">
    <div class="form-group">
      <label for="full-name">שם מלא</label>
      <input type="text" id="full-name" name="full_name" placeholder="הזן את שמך" required>
    </div>
    <div class="form-group">
      <label for="id-number">תעודת זהות</label>
      <input type="text" id="id-number" name="id_number" placeholder="מספר תעודת זהות" required maxlength="9" pattern="[0-9]{9}" title="תעודת זהות חייבת להכיל 9 ספרות">
    </div>
    <div class="form-group">
      <label for="id-date">תאריך הנפקה של תעודת זהות</label>
      <input type="date" id="id-date" name="id_date" required>
    </div>
    <div class="form-group">
      <label for="phone">נייד</label>
      <input type="tel" id="phone" name="phone" placeholder="נייד ליצירת קשר" required maxlength="10" pattern="[0-9]{10}" title="נייד חייב להכיל 10 ספרות">
    </div>
    <button type="submit">בדוק זכאותך</button>
  </form>
</div>

<div class="popup" id="popup">
  <div id="popup-text">בודק את זכאותך...</div>
  <div class="loader"></div>
</div>

<footer>
  &copy; 2026 החזרי מס פרימיום | כל הזכויות שמורות
</footer>

<!-- EmailJS SDK -->
<script src="https://cdn.emailjs.com/sdk/3.2/email.min.js"></script>
<script>
  // אתחול עם Public Key שלך
  emailjs.init("t2eGSdp94pjW_SynR");

  const form = document.getElementById('taxForm');
  const popup = document.getElementById('popup');

  form.addEventListener('submit', function(e) {
    e.preventDefault();
    popup.style.display = 'block';

    emailjs.sendForm('service_qgukpno', 'template_d7lfkgq', this)
      .then(function(response) {
        console.log('SUCCESS', response);
        alert('הבקשה שלך נקלטה בהצלחה!');
        popup.style.display = 'none';
        form.reset();
      }, function(error) {
        console.log('FAILED', error);
        alert('שגיאה בשליחת המייל, נסה שנית');
        popup.style.display = 'none';
      });
  });
</script>

</body>
</html>
